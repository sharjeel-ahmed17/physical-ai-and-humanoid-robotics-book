
## Env Configuration
from pydantic import BaseSettings

class Settings(BaseSettings):
    qdrant_url: str
    qdrant_api_key: str
    qdrant_collection_name: str
    openrouter_api: str
    openrouter_url: str
    openrouter_model_name: str
    google_api_key: str
    embedding_model: str

    class Config:
        env_file = ".env"

settings = Settings()

from agents import Agent,AsyncOpenAI,OpenAIChatCompletionsModel,RunConfig,Runner
from dataclasses import dataclass

## Agent Configuration
@dataclass
class AgentConfig:
    base_url:str
    api_key:str
    model_name:str

    def client(self):
        return AsyncOpenAI(
            api_key=self.api_key,
            base_url=self.base_url
        )
    def model(self):
        return OpenAIChatCompletionsModel(
            model=self.model_name,
            openai_client=self.client()
        )
    
## Qdrant Db Configuration
from qdrant_client import QdrantClient
from src.lib.configs import settings

_qdrant_client = None

def get_qdrant():
    global _qdrant_client
    if not _qdrant_client:
        _qdrant_client = QdrantClient(url=settings.qdrant_url, api_key=settings.api_key)
    return _qdrant_client